raw = [
      0     0   0 0 0 0 0
      0     1   0 0 0 0 0
      0     2   0 0 0 1 1
  20000     0   0 1 0 1 1
  20000     1   0 1 0 0 1
  30000     0   0 1 1 0 1
  30000     1   0 1 1 1 0
  40000     0   1 1 1 1 0
  40000     1   1 1 1 0 0
  80000     0   1 0 1 0 0
  80000     1   1 0 1 1 0
 160000     0   0 0 1 1 0
 160000     1   0 0 1 0 1
 170000     0   0 1 1 0 1
 170000     1   0 1 1 1 0
 180000     0   0 1 0 1 0
 180000     1   0 1 0 0 1
 190000     0   1 1 0 0 1
 190000     1   1 1 0 1 0
 230000     0   1 0 0 1 0
 230000     1   1 0 0 0 1
 250000     0   0 0 0 0 1
 250000     1   0 0 0 1 1
 260000     0   0 1 0 1 1
 260000     1   0 1 0 0 1
 280000     0   1 1 0 0 1
 280000     1   1 1 0 1 0
 300000     0   1 1 1 1 0
 300000     1   1 1 1 0 0
 320000     0   1 0 1 0 0
 320000     1   1 0 1 1 0
 330000     0   1 0 0 1 0
 330000     1   1 0 0 0 1
 340000     0   0 0 0 0 1
 340000     1   0 0 0 1 1
 360000     0   0 0 1 1 1
 360000     1   0 0 1 0 1
 380000     0   0 1 1 0 1
 380000     1   0 1 1 1 0
 400000     0   1 1 1 1 0
 400000     1   1 1 1 0 0
 430000     0   0 1 1 0 0
 430000     1   0 1 1 1 0
 440000     0   0 0 1 1 0
 440000     1   0 0 1 0 1
 460000     0   1 0 1 0 1
 460000     1   1 0 1 1 0
 470000     0   1 1 1 1 0
 470000     1   1 1 1 0 0
 480000     0   1 1 0 0 0
 480000     1   1 1 0 1 0
 490000     0   0 1 0 1 0
 490000     1   0 1 0 0 1
 500000     0   0 0 0 0 1
 500000     1   0 0 0 1 1
 530000     0   0 1 0 1 1
 530000     1   0 1 0 0 1
 570000     0   0 1 1 0 1
 570000     1   0 1 1 1 0
 590000     0   0 0 1 1 0
 590000     1   0 0 1 0 1
 600000     0   0 0 0 0 1
 600000     1   0 0 0 1 1
 630000     0   0 0 1 1 1
 630000     1   0 0 1 0 1
 640000     0   1 0 1 0 1
 640000     1   1 0 1 1 0
 650000     0   1 1 1 1 0
 650000     1   1 1 1 0 0
 680000     0   1 0 1 0 0
 680000     1   1 0 1 1 0
 690000     0   1 0 0 1 0
 690000     1   1 0 0 0 1
 710000     0   1 1 0 0 1
 710000     1   1 1 0 1 0
 720000     0   1 1 1 1 0
 720000     1   1 1 1 0 0
 730000     0   0 1 1 0 0
 730000     1   0 1 1 1 0
 740000     0   0 0 1 1 0
 740000     1   0 0 1 0 1
 760000     0   1 0 1 0 1
 760000     1   1 0 1 1 0
 830000     0   1 1 1 1 0
 830000     1   1 1 1 0 0
 840000     0   1 1 0 0 0
 840000     1   1 1 0 1 0
 880000     0   0 1 0 1 0
 880000     1   0 1 0 0 1
 890000     0   0 0 0 0 1
 890000     1   0 0 0 1 1
 910000     0   1 0 0 1 1
 910000     1   1 0 0 0 1
 920000     0   1 1 0 0 1
 920000     1   1 1 0 1 0
 940000     0   0 1 0 1 0
 940000     1   0 1 0 0 1
 960000     0   0 1 1 0 1
 960000     1   0 1 1 1 0
 970000     0   1 1 1 1 0
 970000     1   1 1 1 0 0
1000000     0   0 1 1 0 0
1000000     1   0 1 1 1 0
];

t_ps = raw(:,1);
t = t_ps * 1e-12;  
addend = raw(:,3);  
augend = raw(:,4);   
carry1 = raw(:,5);   
sum_ideal    =  ~(xor(addend, ~xor(augend, carry1)));
carry2_ideal = (addend & augend) | (addend & carry1) | (augend & carry1);

figure('Color','w','Name','Ideal outputs (inverted)');
subplot(2,1,1);
stairs(t, sum_ideal, 'b','LineWidth',1.4);
ylim([-0.2 1.2]); yticks([0 1]); grid on;
ylabel('sum');
title('Compare sum'); set(gca,'XTickLabel',[]);

subplot(2,1,2);
stairs(t, carry2_ideal, 'b','LineWidth',1.4);
ylim([-0.2 1.2]); yticks([0 1]); grid on;
xlabel('Time (s)'); ylabel('carry2');
title('Compare carry on');

